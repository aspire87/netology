# netology 

Задача 2
Выберите один из вариантов платформы в зависимости от задачи. Здесь нет однозначно верного ответа так как все зависит от конкретных условий: финансирование, компетенции специалистов, удобство использования, надежность, требования ИБ и законодательства, фазы луны.

Тип платформы:

физические сервера;
паравиртуализация;
виртуализация уровня ОС;

Задачи:

высоконагруженная база данных MySql, критичная к отказу;
различные web-приложения;
Windows-системы для использования бухгалтерским отделом;
системы, выполняющие высокопроизводительные расчёты на GPU.
Объясните критерии выбора платформы в каждом случае.



Ответ:

1. Высоконагруженная база данных MySql, критичная к отказу:  Паравиртуализация. Для стабильности, отказоустойчивости и репликации  необходим кластер серверов
2. Разлицные web-приложения: Виртуализация уровня ОС(docker, podman). Контейниризация позволит легко масштабировать  приложения
3. Windows-системы для бухгалтерии: Паравиртуализация. Предпочтительнее  использовать hyper-v, для простоты развёртывания и обслуживания.
4. Системы, выполняющие высокопроизводительные расчёты на GPU.: Только аппаратная, для максимального  использования ресурсов GPU



Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Ответы:
   1. Из-за преобладания windows-based инфры, если предполагается гомогенная система управления виртуализацией,  то однозначный выбор ESXi и vSphere. В случае же  с гетерогенной системой я бы остановился на связке  Hyper-V и  Proxmox для лучшей совметсимости.  В обоих  случаях нет ограничений по гостевым ОС,  обе системы  позволяют удобно управлять ресурсами, миграциями и резервным копированием.
   2. Proxmox 
   3. Т.к. инфраструктура на Windows, то оптимальным выбором будет  free windows hyper-v server. Однако это  на отменяет  лицензирование гостевых  ОС Windows. Плюсом не понадобится дополнительные затраты на специалистов для поддержки ОС как на гостевых  ВМ так и на системах управления виртуализацией
   4. Docker. Простое развёртывание необходимого окружения, тем более можно автоматизировать процессы.

Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?

4. Первая и основная проблема - это управление. Системы могут отличаться и по типу виртуализации и по логике взаимодействия, что, возможно, потребует расширения и/или раздеелния команды для поддержки каждой системы управления  виртуализацией. Вторая проблема - в разделении физических ресурсов, часть кластеров может быть собрана на Vsphere, часть на hyper-v или Proxmox или Xen. Это всегда будут обособленные  отдельные сервера, которые затруднят их обслуживание из-за различия, эксплуатацию и учёт доступных ресурсов. Но гетерогенные системы используются почти повсеместно, просто есть основные аппаратная или паравиртуализации (как, например Vsphere, proxmox или hyper-v) и os-based (как docker), для удобства разработки и эксплуатации.  
   Создавал бы я сам гетерогенную среду?  если рассматривать использование именно как основных двух разных типов или разных гипервизоров, то почему нет. Т.к. системы будут различаться по типу виртуализации то можно клиентскую часть  базировать на каком-нибудь платном решении, для повышения удобства, простоты обслуживания и эксплуатации, а внутренняя инфраструктура использовать что-то из opensource (тот же proxmox), для экономии средств.